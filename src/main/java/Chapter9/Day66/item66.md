# 네이티브 메서드는 신중히 사용하라.

## 네이티브 메서드
 - JVM 의 JNI (Java Native Interface) 는 자바 프로그램이 네이티브 메서드를 호출하는 기술
 - 네이티브 메서드 : C, C++ 등 네이티브 언어로 작성된 메서드
 
## 네이티브 메서드의 쓰임
 1. 레지스트리 같은 플랫폼 특화 기능을 사용할 때
 1. 네이티브 코드로 작성된 기존 라이브러리를 사용할 때. 레거시 데이터를 사용하는 레거시 라이브러리 같은 것이 예다.
 1. 성능 개선을 위해 성능에 결정적인 영향을 주는 영역만 사용하는 경우
 
### 플랫폼 특화 기능
 - 요즈음의 자바는 기능을 확장해가며 플랫폼의 기능들을 흡수중이다.
 - 예로, Java 9 버전에서 process API 를 추가하여 OS 프로세스에 접근할 수 있게 되어 네이티브를 사용하지 않아도 된다.
 
### 성능 개선의 목적 ?
 - 자바 초기에는 몰라도 요즈음의 자바는 초기에 비해 엄청난 발전을 했다.
 - 성능 개선의 목적이라면 쓰지 않을 것을 추천한다.
 - 물론 자바가 발전하면서, 네이티브 라이브러리도 발전을 하긴 했다.
    - GMP (GNU 다중 정밀 연산 라이브러리) 의 라이브러리는 개선 작업이 계속되어왔다.
    - 다중 정밀 연산이 필요한 자바 에플리케이션이라면, 이 네이티브 라이브러리를 고려할만하다.

## 네이티브 메서드의 단점
 1. 네이티브 언어가 안전하지 않다. 네이티브 메서드를 사용하는 에플리케이션은 메모리 훼손의 위협에 놓인다.
 1. 네이티브 언어는 자바보다 플랫폼 이식성이 낮다. 에플리케이션에도 영향을 미칠 수 있다.
 1. 디버깅이 어렵다.
 1. 주의하지 않으면 속도가 더 낮아질 수 있다.
 1. GC 는 네이티브 메모리를 자동으로 회수, 추적하지 못한다.
 1. 자바와 네이티브를 넘나들떄 비용이 발생한다.
 1. 자바와 네이티브 코드를 연결해주는 접착 코드 (Glue Code) 작성이 매우 귀찮다.